<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- hacer mapped y obtener cheques issues y mandar el imprimir. a reporte de cheques dar process separatelly -->
        <record id="action_print_checks_from_pay_group" model="ir.actions.server">
            <field name="name">Imprimir Cheques</field>
            <field name="model_id" ref="account_payment_group.model_account_payment_group"/>
            <field name="state">code</field>
            <field name="code">
ids = context['active_ids']
payments = object.browse(ids).mapped('payment_ids').filtered(lambda x: x.payment_method_code == 'issue_check')
if not payments:
    raise Warning('No se encontraron cheques en las ordenes de pago seleccionadas')
payments = payments.with_context(active_model=payments._name, active_ids=payments.ids)
action = payments.env['report'].get_action(payments, 'check_report')
            </field>
        </record>

        <record model="ir.values" id="ir_action_print_checks_from_pay_group">
            <field name="model_id" ref="account_payment_group.model_account_payment_group" />
            <field name="name">Imprimir Cheques</field>
            <field name="key2">client_print_multi</field>
            <field eval="'ir.actions.server,%d'%action_print_checks_from_pay_group" name="value"/>
            <field name="key">action</field>
            <field name="model">account.payment.group</field>
        </record>

    </data>
</odoo>